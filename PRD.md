# 📋 Product Requirements Document (PRD)
# 문을 열다

---

## 📌 프로젝트 개요

### 프로젝트명
**문을 열다** (Door Opening Game)

### 개발자
**빈성**

### 개발 기간
2024년 6월 ~ 진행 중

### 기술 스택
- **언어**: Python 3.x
- **게임 엔진**: Pygame 2.6.1
- **개발 환경**: Windows, 가상환경(myvenv)

---

## 🎯 게임 컨셉

### 핵심 아이디어
주인공이 문이 있는 방에서 깨어나서 시간 제한 안에 두 개의 문 중 하나를 선택하여 탈출하는 생존 게임. 선택에 따라 생명체의 운명과 결말이 달라지는 다중 엔딩 시스템.

### 게임 장르
- 2D 사이드스크롤 어드벤처
- 생존/선택형 탈출 게임
- 다중 엔딩 시스템
- 시간 관리 게임

### 타겟 플레이어
- 긴장감 있는 시간 제한 게임을 좋아하는 플레이어
- 선택과 결과의 무게감을 즐기는 게이머
- 다중 엔딩과 리플레이 가치를 추구하는 플레이어

---

## 🎮 게임플레이 요구사항

### 핵심 게임 메커니즘

#### 1. 캐릭터 이동 시스템
- **기본 이동**: A/D 키 또는 방향키로 좌우 이동
- **빠른 이동**: Shift + 이동키로 달리기
- **애니메이션**: 방향별 정지, 걷기, 달리기 스프라이트

#### 2. 상호작용 시스템
- **문 열기**: E키로 선택한 문 열기
- **선택 버튼**: 마우스 클릭 또는 키보드로 문 선택
- **타이머 UI**: 90초 카운트다운 표시
- **시간 추가 표시**: 문 열기 후 시간 변화 애니메이션

#### 3. 카메라 시스템
- **고정 캐릭터**: 화면 중앙에 캐릭터 고정
- **배경 스크롤**: 캐릭터 이동에 따른 배경 이동
- **충돌 감지**: 장애물과의 충돌로 이동 제한

#### 4. 생명체 및 위험 시스템
- **생명체 소멸**: 선택한 문 쪽 생명체 사라짐
- **생명체 생존**: 선택하지 않은 쪽 생명체 유지
- **검은 덩어리**: 시간 소진 시 나타나는 죽음의 상징
- **시간 압박**: 시각적 경고와 사운드 효과

### 게임 진행 구조

#### 1. 게임 시작
- **시작 상황**: 주인공이 문이 있는 방에서 깨어남
- **첫 번째 문**: 문을 열면 두 개의 문이 있는 방으로 이동

#### 2. 핵심 게임플레이 루프
- **선택 시간**: 각 방에서 90초 동안 두 개의 문 중 하나 선택
- **타이머 위치**: 두 문 사이 중앙에 시간 표시
- **생명체 시스템**: 
  - 문을 열면 그 쪽 생명체는 사라짐
  - 열지 않은 쪽 생명체는 남아있음
- **시간 관리**: 
  - 문마다 다른 시간 추가량 (많이/적게)
  - 최대 3분까지 시간 누적 가능
  - 시간 소진 시 검은 덩어리에 의한 사망

#### 3. 탈출 조건
- **탈출구 도달**: 여러 방을 지나 탈출구 발견
- **탈출 요구사항**: 2분 이상 시간 보유 필요
- **실패 조건**: 2분 미만 시 탈출구에서 사망
- **다중 엔딩**: 선택한 문들에 따라 결말 변화

---

## 📁 현재 프로젝트 구조

### 핵심 파일 구조

```
devplan/
├── N-game/              # 메인 게임 구현
│   ├── 0-game.py       # 주요 게임 로직
│   ├── 1-game.py       # 게임 변형 버전
│   └── 2-game.py       # 추가 게임 버전
├── game/                # 연습 및 프로토타입
│   ├── prac.py         # 카메라 시스템 테스트
│   ├── prac1.py        # 기능 테스트 1
│   ├── prac2.py        # 기능 테스트 2
│   ├── prac3.py        # 기능 테스트 3
|   └── prac4.py        # 기능 테스트 4
├── pa/                  # 모듈화 실험
│   └── 1.py           # 플레이어 클래스
├── game-image/          # 게임 에셋
│   ├── home.png        # 배경 이미지
│   ├── stop.png        # 캐릭터 정지 스프라이트
│   ├── walk.png        # 걷기 스프라이트
│   ├── run.png         # 달리기 스프라이트
│   └── back_*.png      # 뒤돌아보는 스프라이트들
├── animation.py         # 애니메이션 시스템
├── image.py            # 이미지 로딩 유틸
├── gamedev.md          # 게임 기획서
└── story.txt           # 스토리 및 리소스
```

---

## ⚙️ 기술적 요구사항

### 성능 요구사항
- **해상도**: 1440 x 1080
- **프레임레이트**: 60 FPS
- **이미지 최적화**: convert() 및 convert_alpha() 사용

### 시스템 아키텍처

#### 1. 애니메이션 시스템
```python
class Animation:
    - 프레임 기반 애니메이션
    - 루프/원샷 애니메이션 지원
    - 가변 프레임 속도
```

#### 2. 충돌 감지 시스템
```python
- pygame.Rect 기반 충돌 감지
- 월드 좌표와 화면 좌표 분리
- 오브젝트별 충돌 범위 설정
```

#### 3. 상태 관리
```python
- 캐릭터 상태 (정지, 걷기, 달리기)
- 방향 상태 (좌, 우)
- 게임 진행 상태
```

---

## 🎨 UI/UX 요구사항

### 사용자 인터페이스

#### 1. 게임 화면
- **캐릭터**: 화면 중앙 고정
- **배경**: 스크롤링 방 배경
- **두 개의 문**: 좌우에 위치, 선택 가능 상태 표시
- **상호작용 힌트**: E키 표시

#### 2. 시간 관리 UI
- **타이머**: 두 문 사이 중앙에 90초 카운트다운
- **시간 누적 표시**: 현재 보유 시간 (0~3분)
- **경고 시스템**: 시간 부족 시 시각적/청각적 경고

#### 3. 생명체 표시
- **생명체 시각화**: 문 주변에 생명체 표시
- **소멸 애니메이션**: 선택 후 생명체 사라짐 효과
- **생존 표시**: 남은 생명체 강조 표시

### 시각적 스타일
- **전체적 분위기**: 어두운 방, 분위기 있는 조명
- **색상 팔레트**: 긴장감 조성하는 어두운 톤
- **생명체 디자인**: 신비로우면서도 친근한 모습
- **검은 덩어리**: 위협적이고 공포스러운 디자인
- **캐릭터 디자인**: 픽셀 아트 스타일

---

## 📅 개발 로드맵

### Phase 1: 기본 시스템 구현 ✅
- [x] 캐릭터 이동 시스템
- [x] 애니메이션 시스템
- [x] 배경 스크롤링
- [x] 충돌 감지

### Phase 2: 게임 메커니즘 (진행 중)
- [ ] 두 문 선택 시스템 완성
- [ ] 90초 타이머 및 UI 구현
- [ ] 생명체 소멸/생존 시스템
- [ ] 시간 추가/차감 메커니즘
- [ ] 검은 덩어리 사망 시스템
- [ ] 탈출구 시스템 (2분 조건)

### Phase 3: 컨텐츠 제작
- [ ] 다양한 방 및 문 레이아웃 설계
- [ ] 생명체 디자인 및 애니메이션
- [ ] 여러 엔딩 시나리오 작성
- [ ] 검은 덩어리 비주얼 디자인
- [ ] 탈출구 디자인 및 결말 화면
- [ ] 사운드 효과 및 배경음악

### Phase 4: 최적화 및 테스트
- [ ] 성능 최적화
- [ ] 버그 수정
- [ ] 플레이테스트
- [ ] 밸런싱 조정

---

## 🎯 성공 지표

### 기술적 목표
- [ ] 안정적인 60 FPS 유지
- [ ] 충돌 감지 정확도 99% 이상
- [ ] 메모리 사용량 최적화

### 게임플레이 목표
- [ ] 90초 시간 제한 내 직관적 선택 가능
- [ ] 선택의 결과와 무게감 전달
- [ ] 다중 엔딩으로 인한 높은 재플레이 가치
- [ ] 시간 관리의 긴장감과 성취감 균형

### 사용자 경험 목표
- [ ] 직관적인 문 선택 인터페이스
- [ ] 생명체의 운명에 대한 감정적 몰입
- [ ] 시간 압박과 선택의 딜레마
- [ ] 결말에 대한 만족감과 궁금증

---

## 📝 참고 자료

### 개발 도구
- **정리 툴**: Notion
- **디자인 툴**: Figma, 미리캔버스, Canva
- **에셋 리소스**: Freepik, Unsplash, VectorShelf
- **녹화 툴**: OBS Studio

### 기술 문서
- gamedev.md: 상세 게임 기획서
- story.txt: 스토리 개요 및 개발 리소스
- CLAUDE.md: 기술적 구현 가이드

---

*본 PRD는 프로젝트 진행 상황에 따라 지속적으로 업데이트됩니다.*