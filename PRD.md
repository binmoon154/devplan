# 📋 Product Requirements Document (PRD)
# 탐정 추리/탈출 게임

---

## 📌 프로젝트 개요

### 프로젝트명
**탐정 추리/탈출 게임** (Detective Escape Game)

### 개발자
**빈성**

### 개발 기간
2024년 6월 ~ 진행 중

### 기술 스택
- **언어**: Python 3.x
- **게임 엔진**: Pygame 2.6.1
- **개발 환경**: Windows, 가상환경(myvenv)

---

## 🎯 게임 컨셉

### 핵심 아이디어
19세기 유럽 도시를 배경으로 한 탐정이 납치된 상황에서 탈출하는 게임

### 게임 장르
- 2D 사이드스크롤 어드벤처
- 추리/탈출 게임
- 인터랙티브 스토리텔링

### 타겟 플레이어
- 추리 소설을 좋아하는 플레이어
- 퍼즐 게임을 선호하는 플레이어
- 스토리 중심 게임을 즐기는 플레이어

---

## 🎮 게임플레이 요구사항

### 핵심 게임 메커니즘

#### 1. 캐릭터 이동 시스템
- **기본 이동**: A/D 키 또는 방향키로 좌우 이동
- **빠른 이동**: Shift + 이동키로 달리기
- **애니메이션**: 방향별 정지, 걷기, 달리기 스프라이트

#### 2. 상호작용 시스템
- **조사**: E키로 오브젝트와 상호작용
- **메모 시스템**: M키로 메모장 열기/닫기
- **증거 수집**: 클릭으로 증거 아이템 수집

#### 3. 카메라 시스템
- **고정 캐릭터**: 화면 중앙에 캐릭터 고정
- **배경 스크롤**: 캐릭터 이동에 따른 배경 이동
- **충돌 감지**: 장애물과의 충돌로 이동 제한

### 게임 진행 구조

#### 1. 스토리 진행
- **시간 제한**: 7일 내에 범인 찾기
- **증거 수집**: 맵 곳곳에 숨겨진 증거 발견
- **추리 과정**: 수집한 증거를 바탕으로 추론

#### 2. 난이도 조절
- **랜덤 요소**: 게임마다 다른 범인과 증거 위치
- **잘못된 선택**: 잘못된 용의자 지목 시 진실 미공개
- **시간 압박**: 제한된 날짜 내 해결 필요

---

## 📁 현재 프로젝트 구조

### 핵심 파일 구조

```
devplan/
├── N-game/              # 메인 게임 구현
│   ├── 0-game.py       # 주요 게임 로직
│   ├── 1-game.py       # 게임 변형 버전
│   └── 2-game.py       # 추가 게임 버전
├── game/                # 연습 및 프로토타입
│   ├── prac.py         # 카메라 시스템 테스트
│   ├── prac1.py        # 기능 테스트 1
│   ├── prac2.py        # 기능 테스트 2
│   └── prac3.py        # 기능 테스트 3
├── pa/                  # 모듈화 실험
│   ├── game.py         # 객체지향 구조 테스트
│   ├── background.py   # 배경 클래스
│   └── 1.py           # 플레이어 클래스
├── game-image/          # 게임 에셋
│   ├── home.png        # 배경 이미지
│   ├── stop.png        # 캐릭터 정지 스프라이트
│   ├── walk.png        # 걷기 스프라이트
│   ├── run.png         # 달리기 스프라이트
│   └── back_*.png      # 뒤돌아보는 스프라이트들
├── animation.py         # 애니메이션 시스템
├── image.py            # 이미지 로딩 유틸
├── gamedev.md          # 게임 기획서
└── story.txt           # 스토리 및 리소스
```

---

## ⚙️ 기술적 요구사항

### 성능 요구사항
- **해상도**: 1440 x 1080
- **프레임레이트**: 60 FPS
- **이미지 최적화**: convert() 및 convert_alpha() 사용

### 시스템 아키텍처

#### 1. 애니메이션 시스템
```python
class Animation:
    - 프레임 기반 애니메이션
    - 루프/원샷 애니메이션 지원
    - 가변 프레임 속도
```

#### 2. 충돌 감지 시스템
```python
- pygame.Rect 기반 충돌 감지
- 월드 좌표와 화면 좌표 분리
- 오브젝트별 충돌 범위 설정
```

#### 3. 상태 관리
```python
- 캐릭터 상태 (정지, 걷기, 달리기)
- 방향 상태 (좌, 우)
- 게임 진행 상태
```

---

## 🎨 UI/UX 요구사항

### 사용자 인터페이스

#### 1. 게임 화면
- **캐릭터**: 화면 중앙 고정
- **배경**: 스크롤링 배경
- **상호작용 힌트**: E키 표시

#### 2. 메모 시스템
- **메모장 UI**: M키로 열기/닫기
- **페이지 넘기기**: 좌우 방향키
- **텍스트 입력**: 키보드 입력 지원

#### 3. 인벤토리
- **증거 아이템**: 수집한 증거 표시
- **증언 기록**: NPC 대화 내용 저장

### 시각적 스타일
- **시대적 배경**: 19세기 유럽 도시
- **색상 팔레트**: 어두운 톤의 미스터리 분위기
- **캐릭터 디자인**: 픽셀 아트 스타일

---

## 📅 개발 로드맵

### Phase 1: 기본 시스템 구현 ✅
- [x] 캐릭터 이동 시스템
- [x] 애니메이션 시스템
- [x] 배경 스크롤링
- [x] 충돌 감지

### Phase 2: 게임 메커니즘 (진행 중)
- [ ] 상호작용 시스템 완성
- [ ] 메모장 시스템 구현
- [ ] 증거 수집 시스템
- [ ] NPC 대화 시스템

### Phase 3: 컨텐츠 제작
- [ ] 스토리 스크립트 완성
- [ ] 캐릭터 및 배경 에셋 제작
- [ ] 사운드 및 음악 추가
- [ ] 레벨 디자인

### Phase 4: 최적화 및 테스트
- [ ] 성능 최적화
- [ ] 버그 수정
- [ ] 플레이테스트
- [ ] 밸런싱 조정

---

## 🎯 성공 지표

### 기술적 목표
- [ ] 안정적인 60 FPS 유지
- [ ] 충돌 감지 정확도 99% 이상
- [ ] 메모리 사용량 최적화

### 게임플레이 목표
- [ ] 플레이어가 규칙을 쉽게 이해
- [ ] 적절한 난이도 곡선
- [ ] 재플레이 가치 제공

### 사용자 경험 목표
- [ ] 직관적인 조작법
- [ ] 몰입감 있는 스토리
- [ ] 만족스러운 퍼즐 해결감

---

## 📝 참고 자료

### 개발 도구
- **정리 툴**: Notion
- **디자인 툴**: Figma, 미리캔버스, Canva
- **에셋 리소스**: Freepik, Unsplash, VectorShelf
- **녹화 툴**: OBS Studio

### 기술 문서
- gamedev.md: 상세 게임 기획서
- story.txt: 스토리 개요 및 개발 리소스
- CLAUDE.md: 기술적 구현 가이드

---

*본 PRD는 프로젝트 진행 상황에 따라 지속적으로 업데이트됩니다.*